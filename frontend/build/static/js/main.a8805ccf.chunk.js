(this["webpackJsonprandom-songs"]=this["webpackJsonprandom-songs"]||[]).push([[0],{32:function(e,t,n){e.exports=n(45)},42:function(e,t,n){e.exports=n.p+"static/media/spotify_icon.c6e2d658.svg"},43:function(e,t,n){e.exports=n.p+"static/media/youtube_icon.8021f244.svg"},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(29),i=n.n(r),c=n(71),l=n(12),s=n(14),d=function(e){var t=e.component,n=e.layout,a=Object(s.a)(e,["component","layout"]);return n=void 0===n?function(e){return o.a.createElement(o.a.Fragment,null,e.children)}:n,o.a.createElement(c.a,Object.assign({},a,{render:function(e){return o.a.createElement(n,null,o.a.createElement(t,e))}}))},u=n(7),m=n(3),f=n.n(m),g=n(24),b=o.a.forwardRef((function(e,t){var n=Object(a.useState)(window.innerHeight),r=Object(u.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)([]),s=Object(u.a)(l,2),d=s[0],m=s[1],f=function(){return d.length<=document.querySelectorAll("[class*=reveal-].is-revealed").length},b=function(){if(!f())for(var e=function(e){var t=d[e],n=t.getAttribute("data-reveal-delay"),a=t.getAttribute("data-reveal-offset")?t.getAttribute("data-reveal-offset"):"200";(function(e,t){return e.getBoundingClientRect().top<=i-t})(t.getAttribute("data-reveal-container")?t.closest(t.getAttribute("data-reveal-container")):t,a)&&!t.classList.contains("is-revealed")&&(n&&0!==n?setTimeout((function(){t.classList.add("is-revealed")}),n):t.classList.add("is-revealed"))},t=0;t<d.length;t++)e(t)};Object(a.useImperativeHandle)(t,(function(){return{init:function(){m(document.querySelectorAll("[class*=reveal-]"))}}})),Object(a.useEffect)((function(){"undefined"!==typeof d&&d.length>0&&(f()||(window.addEventListener("scroll",p),window.addEventListener("resize",h)),b())}),[d]);var v=function(){f()&&(window.removeEventListener("scroll",p),window.removeEventListener("resize",h))},p=Object(g.throttle)((function(){v(),b()}),30),h=Object(g.throttle)((function(){c(window.innerHeight)}),30);return Object(a.useEffect)((function(){v(),b()}),[i]),o.a.createElement(o.a.Fragment,null,e.children())}));b.propTypes={children:f.a.func.isRequired};var v=b,p=function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"site-content"},t))},h=n(21),y=n(9),E=n(16),w=n.n(E),O={types:{topOuterDivider:f.a.bool,bottomOuterDivider:f.a.bool,topDivider:f.a.bool,bottomDivider:f.a.bool,hasBgColor:f.a.bool,invertColor:f.a.bool},defaults:{topOuterDivider:!1,bottomOuterDivider:!1,topDivider:!1,bottomDivider:!1,hasBgColor:!1,invertColor:!1}},j={types:Object(y.a)({},O.types),defaults:Object(y.a)({},O.defaults)},C=(Object(y.a)({},O.types,{invertMobile:f.a.bool,invertDesktop:f.a.bool,alignTop:f.a.bool,imageFill:f.a.bool}),Object(y.a)({},O.defaults,{invertMobile:!1,invertDesktop:!1,alignTop:!1,imageFill:!1}),Object(y.a)({},O.types,{pushLeft:f.a.bool}),Object(y.a)({},O.defaults,{pushLeft:!1}),function(e){var t=e.className,n=Object(s.a)(e,["className"]),a=w()("button-group",t);return o.a.createElement("div",Object.assign({},n,{className:a}))}),k=function(e){var t=e.className,n=(e.tag,e.color),a=e.size,r=e.loading,i=e.wide,c=e.wideMobile,l=(e.disabled,Object(s.a)(e,["className","tag","color","size","loading","wide","wideMobile","disabled"])),d=w()("button",n&&"button-".concat(n),a&&"button-".concat(a),r&&"is-loading",i&&"button-block",c&&"button-wide-mobile",t);return o.a.createElement("button",Object.assign({},l,{className:d,onClick:l.onClick}))},N=n(72),x=n(68),D=n(69),S=function(e){var t=Object(a.useState)(null),r=Object(u.a)(t,2),i=r[0],c=r[1];var l,s;return o.a.createElement("div",null,o.a.createElement(N.a,{style:{marginTop:"3%",overflow:"visible"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",minHeight:e.cardHeight}},o.a.createElement("img",{width:"25%",src:"https://i.scdn.co/image/"+e.img,alt:e.name+" "+e.artist+" album cover",style:{maxHeight:"100%",background:"#151719",color:"#ECEDED"}}),o.a.createElement(x.a,{style:{display:"flex",flexWrap:"wrap",width:"70%",padding:"0",flexDirection:"volumn",overflow:"hidden"}},o.a.createElement(D.a,{style:{fontSize:e.cardHeight<155?"80%":"100%",flexBasis:"100%",marginTop:"2%",marginLeft:"5%",textAlign:"left"}},e.name),o.a.createElement(D.a,{style:{fontSize:e.cardHeight<155?"70%":"90%",flexBasis:"100%",opacity:"0.6",marginLeft:"5%",marginBottom:"0%",textAlign:"left"}},e.artist),o.a.createElement("div",{className:"container-card-link",style:{marginTop:"auto",textAlign:"left",justifyContent:"left",width:"100%"}},o.a.createElement("img",{width:"10%",style:{marginLeft:"4%",marginRight:"4%"},src:n(42),alt:"Spotify Icon",onClick:function(){console.log("SETTING SPOTIFY CONTENT"),e.onEmbedContent(e.name,e.artist,e.category,"https://open.spotify.com/embed/track/"+e.spotifyId+"?utm_source=generator")}}),o.a.createElement("img",{width:"10%",margin:"0px",src:n(43),alt:"Youtube Icon",onClick:(l=function(){e.data.y?e.onEmbedContent(e.name,e.artist,e.category,"https://www.youtube.com/embed/"+e.data.y):fetch("https://duckduckgo.com/?q=\\".concat(e.name," ").concat(e.artist," site:youtube.com&format=json&no_redirect=1&t=jweilhammer-random-song")).then((function(e){return e.json()})).then((function(t){var n=t.Redirect.split("v=")[1];e.onEmbedContent(e.name,e.artist,e.category,"https://www.youtube.com/embed/"+n),e.data.y=n}),(function(e){console.log("Unable to embed youtube video :-("),console.log(e)}))},s=1e3,function(){i||l.apply(void 0,arguments),clearTimeout(i),c(setTimeout((function(){c(null)}),s))})}))))),e.embeddedContent.content&&e.embeddedContent.name===e.name&&e.embeddedContent.artist===e.artist&&e.embeddedContent.category===e.category&&o.a.createElement("iframe",{style:{borderRadius:14,marginTop:"2%",maxWidth:"100%",maxHeight:"100%",overflow:"hidden",width:"".concat((e.embeddedContent.content.includes("youtube"),"350px")),height:"".concat(e.embeddedContent.content.includes("youtube")?"197px":"")},className:e.embeddedContent.content.includes("spotify")?"spotify-embed":"",src:e.embeddedContent.content,frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"}))},T=n(73),A=n(70),L=function(e){return a.createElement(T.a,{style:{width:"40%",padding:"0",marginBottom:"8px"}},a.createElement(A.a,{defaultValue:"Popular",inputProps:{id:"uncontrolled-native"},style:{width:"100%",background:"#6163FF",color:"#ECEDED",paddingTop:8,paddingBottom:8,fontSize:"100%",fontFamily:"Inter, sans-serif",fontWeight:600,justifyContent:"center",textAlign:"center"},onChange:e.onChange},e.categories.map((function(e){return a.createElement("option",{style:{background:"#33363A"},value:e,key:e},e)}))))},I={song:null,artist:null,category:null,content:null},H=Object(y.a)({},j.defaults),R=function(e){var t=e.className,n=e.topOuterDivider,r=e.bottomOuterDivider,i=e.topDivider,c=e.bottomDivider,l=e.hasBgColor,d=e.invertColor,m=Object(s.a)(e,["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor"]),f=w()("hero section center-content",n&&"has-top-divider",r&&"has-bottom-divider",l&&"has-bg-color",d&&"invert-color",t),g=w()("hero-inner section-inner",i&&"has-top-divider",c&&"has-bottom-divider"),b=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e},v=o.a.useState((function(){console.log(m.songs);var e=Object.keys(m.songs);e.sort();var t,n=Object(h.a)(["Popular","Hip-Hop","Rock","Pop","70s","80s","90s","2000s","2010s"].reverse());try{for(n.s();!(t=n.n()).done;){var a=t.value;console.log(a);var o=e.indexOf(a);o>0&&e.unshift(e.splice(o,1)[0])}}catch(l){n.e(l)}finally{n.f()}for(var r=0,i=e;r<i.length;r++){var c=i[r];m.songs[c]=b(m.songs[c])}return e})),p=Object(u.a)(v,2),E=p[0],O=(p[1],o.a.useState("Popular")),j=Object(u.a)(O,2),N=j[0],x=j[1],D=o.a.useState(m.songs[N].slice(0,4)),T=Object(u.a)(D,2),A=T[0],H=T[1],R=o.a.useState(I),B=Object(u.a)(R,2),W=B[0],F=B[1],P=Object(a.useState)((function(){var e,t={},n=Object(h.a)(E);try{for(n.s();!(e=n.n()).done;){t[e.value]=0}}catch(a){n.e(a)}finally{n.f()}return t})),z=Object(u.a)(P,2),M=z[0],_=z[1],q=function(e,t,n,a){F({name:e,artist:t,category:n,content:a})};Object(a.useEffect)((function(){H(m.songs[N].slice(M[N],M[N]+4)),function(e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;(new Image).src="https://i.scdn.co/image/"+a.i}}catch(o){n.e(o)}finally{n.f()}}(m.songs[N].slice(M[N]+4,M[N]+12))}),[N,M]);var U=Object(a.useRef)(null),G=o.a.useState((function(){console.log("SETTING INITIAL CARD HEIGHT",U)})),J=Object(u.a)(G,2),Y=J[0],V=J[1];return Object(a.useLayoutEffect)((function(){function e(){V(U.current.offsetWidth/4)}return Y||V(U.current.offsetWidth/4),window.addEventListener("resize",e),function(t){window.removeEventListener("resize",e)}})),o.a.createElement("section",Object.assign({},m,{className:f}),o.a.createElement("div",{className:"container-sm"},o.a.createElement("div",{className:g},o.a.createElement("div",{className:"hero-content"},o.a.createElement("h1",{className:"mt-0 mb-16",style:{marginTop:"2vh"}},"Random ",o.a.createElement("span",{className:"text-color-primary"},"Songs")),o.a.createElement("div",{ref:U,className:"container-xs"},o.a.createElement("p",{className:"m-0 mb-32","data-reveal-delay":"400"},"Chooose a category to get started:"),o.a.createElement("div",{className:"","data-reveal-delay":"600"},o.a.createElement(L,{categories:E,onChange:function(e){x(e.target.value)}}),o.a.createElement(C,null,o.a.createElement(k,{color:"dark",tag:"button",onClick:function(){var e=Object(y.a)({},M);e[N]=Math.max(0,M[N]-4),_(e),F(I)}},"Previous"),o.a.createElement(k,{tag:"button",color:"primary",onClick:function(){var e=Object(y.a)({},M);e[N]=Math.min(m.songs[N].length-4,M[N]+4),_(e),F(I)}},"Next Page")),A.map((function(e){return o.a.createElement(S,{key:e.s,img:e.i,name:e.n,artist:e.a,category:N,spotifyId:e.s,embeddedContent:W,onEmbedContent:q,cardHeight:Y,data:e})}))))))))};R.defaultProps=H;var B=R,W=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){fetch("songs.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e)}))}),[]),o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(B,{className:"illustration-section-01",songs:n}))},F=function(){var e=Object(a.useRef)(),t=Object(c.d)();return Object(a.useEffect)((function(){t.pathname;document.body.classList.add("is-loaded"),e.current.init()}),[t]),o.a.createElement(v,{ref:e,children:function(){return o.a.createElement(c.c,null,o.a.createElement(d,{exact_path:window.location.pathname,component:W,layout:p}))}})},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(44);var M=Object(l.a)();i.a.render(o.a.createElement(c.b,{history:M},o.a.createElement(F,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");P?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(t,e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.a8805ccf.chunk.js.map