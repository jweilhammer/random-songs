(this["webpackJsonpopen-react-template"]=this["webpackJsonpopen-react-template"]||[]).push([[0],{30:function(e,t,n){e.exports=n(46)},43:function(e,t,n){e.exports=n.p+"static/media/spotify_icon.c6e2d658.svg"},44:function(e,t,n){e.exports=n.p+"static/media/youtube_icon.8021f244.svg"},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(27),r=n.n(i),c=n(70),l=n(12),s=n(14),u=["component","layout"],d=function(e){var t=e.component,n=e.layout,a=Object(s.a)(e,u);return n=void 0===n?function(e){return o.a.createElement(o.a.Fragment,null,e.children)}:n,o.a.createElement(c.a,Object.assign({},a,{render:function(e){return o.a.createElement(n,null,o.a.createElement(t,e))}}))},m=n(8),f=n(2),b=n.n(f),g=n(23),v=o.a.forwardRef((function(e,t){var n=Object(a.useState)(window.innerHeight),i=Object(m.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)([]),s=Object(m.a)(l,2),u=s[0],d=s[1],f=function(){return u.length<=document.querySelectorAll("[class*=reveal-].is-revealed").length},b=function(){if(!f())for(var e=function(e){var t=u[e],n=t.getAttribute("data-reveal-delay"),a=t.getAttribute("data-reveal-offset")?t.getAttribute("data-reveal-offset"):"200";(function(e,t){return e.getBoundingClientRect().top<=r-t})(t.getAttribute("data-reveal-container")?t.closest(t.getAttribute("data-reveal-container")):t,a)&&!t.classList.contains("is-revealed")&&(n&&0!==n?setTimeout((function(){t.classList.add("is-revealed")}),n):t.classList.add("is-revealed"))},t=0;t<u.length;t++)e(t)};Object(a.useImperativeHandle)(t,(function(){return{init:function(){d(document.querySelectorAll("[class*=reveal-]"))}}})),Object(a.useEffect)((function(){"undefined"!==typeof u&&u.length>0&&(f()||(window.addEventListener("scroll",p),window.addEventListener("resize",h)),b())}),[u]);var v=function(){f()&&(window.removeEventListener("scroll",p),window.removeEventListener("resize",h))},p=Object(g.throttle)((function(){v(),b()}),30),h=Object(g.throttle)((function(){c(window.innerHeight)}),30);return Object(a.useEffect)((function(){v(),b()}),[r]),o.a.createElement(o.a.Fragment,null,e.children())}));v.propTypes={children:b.a.func.isRequired};var p=v,h=(n(47),function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"site-content"},t))}),y=n(21),E=n(7),w=n(16),O=n.n(w),j={types:{topOuterDivider:b.a.bool,bottomOuterDivider:b.a.bool,topDivider:b.a.bool,bottomDivider:b.a.bool,hasBgColor:b.a.bool,invertColor:b.a.bool},defaults:{topOuterDivider:!1,bottomOuterDivider:!1,topDivider:!1,bottomDivider:!1,hasBgColor:!1,invertColor:!1}},C={types:Object(E.a)({},j.types),defaults:Object(E.a)({},j.defaults)},k=(Object(E.a)(Object(E.a)({},j.types),{},{invertMobile:b.a.bool,invertDesktop:b.a.bool,alignTop:b.a.bool,imageFill:b.a.bool}),Object(E.a)(Object(E.a)({},j.defaults),{},{invertMobile:!1,invertDesktop:!1,alignTop:!1,imageFill:!1}),Object(E.a)(Object(E.a)({},j.types),{},{pushLeft:b.a.bool}),Object(E.a)(Object(E.a)({},j.defaults),{},{pushLeft:!1}),["className"]),N=function(e){var t=e.className,n=Object(s.a)(e,k),a=O()("button-group",t);return o.a.createElement("div",Object.assign({},n,{className:a}))},x=["className","tag","color","size","loading","wide","wideMobile","disabled"],D=function(e){var t=e.className,n=(e.tag,e.color),a=e.size,i=e.loading,r=e.wide,c=e.wideMobile,l=(e.disabled,Object(s.a)(e,x)),u=O()("button",n&&"button-".concat(n),a&&"button-".concat(a),i&&"is-loading",r&&"button-block",c&&"button-wide-mobile",t);return o.a.createElement("button",Object.assign({},l,{className:u,onClick:l.onClick}))},S=n(74),T=n(71),A=n(72),L=function(e){var t=Object(a.useState)(null),i=Object(m.a)(t,2),r=i[0],c=i[1];var l,s;return o.a.createElement("div",null,o.a.createElement(S.a,{style:{marginTop:"3%",overflow:"visible"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",minHeight:e.cardHeight}},o.a.createElement("img",{width:"25%",src:"https://i.scdn.co/image/"+e.img,alt:e.name+" "+e.artist+" album cover",style:{maxHeight:"100%",background:"#151719",color:"#ECEDED"}}),o.a.createElement(T.a,{style:{display:"flex",flexWrap:"wrap",width:"70%",padding:"0",flexDirection:"volumn",overflow:"hidden"}},o.a.createElement(A.a,{style:{fontSize:e.cardHeight<155?"80%":"100%",flexBasis:"100%",marginTop:"2%",marginLeft:"5%",textAlign:"left"}},e.name),o.a.createElement(A.a,{style:{fontSize:e.cardHeight<155?"70%":"90%",flexBasis:"100%",opacity:"0.6",marginLeft:"5%",marginBottom:"0%",textAlign:"left"}},e.artist),o.a.createElement("div",{className:"container-card-link",style:{marginTop:"auto",textAlign:"left",justifyContent:"left",width:"100%"}},o.a.createElement("img",{width:"10%",style:{marginLeft:"4%",marginRight:"4%"},src:n(43),alt:"Spotify Icon",onClick:function(){console.log("SETTING SPOTIFY CONTENT"),e.onEmbedContent(e.name,e.artist,e.category,"https://open.spotify.com/embed/track/"+e.spotifyId+"?utm_source=generator")}}),o.a.createElement("img",{width:"10%",margin:"0px",src:n(44),alt:"Youtube Icon",onClick:(l=function(){e.data.y?e.onEmbedContent(e.name,e.artist,e.category,"https://www.youtube.com/embed/"+e.data.y):fetch("https://duckduckgo.com/?q=\\".concat(e.name," ").concat(e.artist," site:youtube.com&format=json&no_redirect=1&t=jweilhammer-random-song")).then((function(e){return e.json()})).then((function(t){var n=t.Redirect.split("v=")[1];e.onEmbedContent(e.name,e.artist,e.category,"https://www.youtube.com/embed/"+n),e.data.y=n}),(function(e){console.log("Unable to embed youtube video :-("),console.log(e)}))},s=1e3,function(){r||l.apply(void 0,arguments),clearTimeout(r),c(setTimeout((function(){c(null)}),s))})}))))),e.embeddedContent.content&&e.embeddedContent.name===e.name&&e.embeddedContent.artist===e.artist&&e.embeddedContent.category===e.category&&o.a.createElement("iframe",{style:{borderRadius:14,marginTop:"2%",maxWidth:"100%",maxHeight:"100%",overflow:"hidden",width:"".concat((e.embeddedContent.content.includes("youtube"),"350px")),height:"".concat(e.embeddedContent.content.includes("youtube")?"197px":"")},className:e.embeddedContent.content.includes("spotify")?"spotify-embed":"",src:e.embeddedContent.content,frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"}))},I=n(75),B=n(73),H=function(e){return a.createElement(I.a,{style:{width:"40%",padding:"0",marginBottom:"8px"}},a.createElement(B.a,{defaultValue:"Popular",inputProps:{id:"uncontrolled-native"},style:{width:"100%",background:"#6163FF",color:"#ECEDED",paddingTop:8,paddingBottom:8,fontSize:"100%",fontFamily:"Inter, sans-serif",fontWeight:600,justifyContent:"center",textAlign:"center"},onChange:e.onChange},e.categories.map((function(e){return a.createElement("option",{style:{background:"#33363A"},value:e,key:e},e)}))))},R=["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor"],W={song:null,artist:null,category:null,content:null},F=Object(E.a)({},C.defaults),P=function(e){var t=e.className,n=e.topOuterDivider,i=e.bottomOuterDivider,r=e.topDivider,c=e.bottomDivider,l=e.hasBgColor,u=e.invertColor,d=Object(s.a)(e,R),f=O()("hero section center-content",n&&"has-top-divider",i&&"has-bottom-divider",l&&"has-bg-color",u&&"invert-color",t),b=O()("hero-inner section-inner",r&&"has-top-divider",c&&"has-bottom-divider"),g=o.a.useState((function(){console.log(d.songs);var e=Object.keys(d.songs);e.sort();var t,n=Object(y.a)(["Popular","Hip-Hop","Rock","Pop","70s","80s","90s","2000s","2010s"].reverse());try{for(n.s();!(t=n.n()).done;){var a=t.value;console.log(a);var o=e.indexOf(a);o>0&&e.unshift(e.splice(o,1)[0])}}catch(l){n.e(l)}finally{n.f()}for(var i=0,r=e;i<r.length;i++){var c=r[i];d.songs[c]=d.songs[c]}return e})),v=Object(m.a)(g,2),p=v[0],h=(v[1],o.a.useState("Popular")),w=Object(m.a)(h,2),j=w[0],C=w[1],k=o.a.useState(d.songs[j].slice(0,4)),x=Object(m.a)(k,2),S=x[0],T=x[1],A=o.a.useState(W),I=Object(m.a)(A,2),B=I[0],F=I[1],P=Object(a.useState)((function(){var e,t={},n=Object(y.a)(p);try{for(n.s();!(e=n.n()).done;){t[e.value]=0}}catch(a){n.e(a)}finally{n.f()}return t})),z=Object(m.a)(P,2),M=z[0],_=z[1],q=function(e,t,n,a){F({name:e,artist:t,category:n,content:a})};Object(a.useEffect)((function(){T(d.songs[j].slice(M[j],M[j]+4)),function(e){var t,n=Object(y.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;(new Image).src="https://i.scdn.co/image/"+a.i}}catch(o){n.e(o)}finally{n.f()}}(d.songs[j].slice(M[j]+4,M[j]+12))}),[j,M]);var U=Object(a.useRef)(null),G=o.a.useState((function(){console.log("SETTING INITIAL CARD HEIGHT",U)})),J=Object(m.a)(G,2),Y=J[0],V=J[1];return Object(a.useLayoutEffect)((function(){function e(){V(U.current.offsetWidth/4)}return Y||V(U.current.offsetWidth/4),window.addEventListener("resize",e),function(t){window.removeEventListener("resize",e)}})),o.a.createElement("section",Object.assign({},d,{className:f}),o.a.createElement("div",{className:"container-sm"},o.a.createElement("div",{className:b},o.a.createElement("div",{className:"hero-content"},o.a.createElement("h1",{className:"mt-0 mb-16"},"Random ",o.a.createElement("span",{className:"text-color-primary"},"Songs")),o.a.createElement("div",{ref:U,className:"container-xs"},o.a.createElement("p",{className:"m-0 mb-32","data-reveal-delay":"400"},"Chooose a category to get started:"),o.a.createElement("div",{className:"","data-reveal-delay":"600"},o.a.createElement(H,{categories:p,onChange:function(e){C(e.target.value)}}),o.a.createElement(N,null,o.a.createElement(D,{color:"dark",tag:"button",onClick:function(){var e=Object(E.a)({},M);e[j]=Math.max(0,M[j]-4),_(e),F(W)}},"Previous"),o.a.createElement(D,{tag:"button",color:"primary",onClick:function(){var e=Object(E.a)({},M);e[j]=Math.min(d.songs[j].length-4,M[j]+4),_(e),F(W)}},"Next Page")),S.map((function(e){return o.a.createElement(L,{key:e.s,img:e.i,name:e.n,artist:e.a,category:j,spotifyId:e.s,embeddedContent:B,onEmbedContent:q,cardHeight:Y,data:e})}))))))))};P.defaultProps=F;var z=P,M=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){fetch("songs.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){i(e)}))}),[]),o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(z,{className:"illustration-section-01",songs:n}))},_=function(){var e=Object(a.useRef)(),t=Object(c.d)();return Object(a.useEffect)((function(){t.pathname;document.body.classList.add("is-loaded"),e.current.init()}),[t]),o.a.createElement(p,{ref:e,children:function(){return o.a.createElement(c.c,null,o.a.createElement(d,{exact:!0,path:"/",component:M,layout:h}))}})},q=(self.__WB_MANIFEST,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(45);var G=Object(l.a)();r.a.render(o.a.createElement(c.b,{history:G},o.a.createElement(_,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");q?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(t,e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.ac34964d.chunk.js.map